{"ast":null,"code":"var _jsxFileName = \"/Users/mac/IdeaProjects/Library_Resources_DB_Management_System/src/main/client/src/customerPage/Payment.js\",\n  _s = $RefreshSig$();\nimport { useNavigate } from 'react-router';\nimport './Payment.css';\nimport { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport axios from 'axios';\nimport userRequest from \"../request/user-request\";\n// axios.defaults.headers.common[\"Authorization\"] = `Bearer ${localStorage.getItem(\"token\")}`;\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Payment() {\n  _s();\n  const now = moment().format('YYYY-MM-DD');\n  // const [cashamount, setcashamount] = useState();\n  // const [cashname, setcashname] = useState();\n\n  // const [creditcardamount, setcreditcardamount] = useState();\n  // const [creditcardname, setcreditcardname] = useState();\n\n  // const [debitcardamount, setdebitcardamount] = useState();\n  // const [debitcardname, setdebitcardname] = useState();\n\n  // const [paypalamount, setpaypalamount] = useState();\n  // const [paypalname, setpaypalname] = useState();\n\n  const [returnid, setreturnid] = useState();\n  const [invoices, setinvoices] = useState([]);\n  const [carholdername, sethardholdername] = useState();\n  const [paymenttype, setpaymenttype] = useState();\n  const getAllres = () => {\n    const config = {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    const customerId = Number(localStorage.getItem(\"currentCustomerId\"));\n    axios.get(`http://localhost:8080/api/invoice/list/${customerId}`, config).then(response => {\n      setinvoices([]);\n      var list = [];\n      for (var obj in response.data) {\n        // reservations.push(response.data[obj])\n        list.push(response.data[obj]);\n      }\n      console.log(\"here\");\n      setinvoices(list);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n  useEffect(() => {\n    getAllres();\n  }, []);\n  const dopay = async event => {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Payment\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Payment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: invoices.map(invoice => {\n        // const getpayments = () =>{\n        //     const config = {\n        //     headers: {\n        //         \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n        //     }\n        //     }\n        //     url = `http://localhost:8080/api/payment/totalPaymentAmount/${invoice.id}`\n        //     axios.get(url, config)\n\n        //     }\n\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"rental id: \", invoice.id, \"total amount:\", invoice.amount, \"date:\", reservation.date]\n        }, invoice.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"total amount : \", totalamount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"method\",\n        id: \"timeperiod\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"cash\",\n          children: \"cash\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"creditcard\",\n          children: \"credit card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"debitcard\",\n          children: \"debit card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"paypal\",\n          children: \"pay pal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), \"onChange=\", e => setpaymenttype(e.target.value)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: dopay,\n          children: \"pay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(Payment, \"mKAMfe9y7p7NJRZfyrKFjeO5KYo=\");\n_c = Payment;\nexport default Payment;\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["useNavigate","useState","useEffect","moment","axios","userRequest","Payment","now","format","returnid","setreturnid","invoices","setinvoices","carholdername","sethardholdername","paymenttype","setpaymenttype","getAllres","config","headers","localStorage","getItem","customerId","Number","get","then","response","list","obj","data","push","console","log","catch","e","dopay","event","map","invoice","id","amount","reservation","date","totalamount","target","value"],"sources":["/Users/mac/IdeaProjects/Library_Resources_DB_Management_System/src/main/client/src/customerPage/Payment.js"],"sourcesContent":["import { useNavigate } from 'react-router';\nimport './Payment.css';\nimport { useState,useEffect } from 'react';\nimport moment from 'moment';\nimport axios from 'axios';\nimport userRequest from \"../request/user-request\"\n// axios.defaults.headers.common[\"Authorization\"] = `Bearer ${localStorage.getItem(\"token\")}`;\nfunction Payment(){\n    const now = moment().format('YYYY-MM-DD');  \n    // const [cashamount, setcashamount] = useState();\n    // const [cashname, setcashname] = useState();\n\n    // const [creditcardamount, setcreditcardamount] = useState();\n    // const [creditcardname, setcreditcardname] = useState();\n\n    // const [debitcardamount, setdebitcardamount] = useState();\n    // const [debitcardname, setdebitcardname] = useState();\n\n    // const [paypalamount, setpaypalamount] = useState();\n    // const [paypalname, setpaypalname] = useState();\n\n\n    const [returnid, setreturnid] = useState();\n    const [invoices, setinvoices] = useState([]);\n    const [carholdername,sethardholdername] = useState();\n    const [paymenttype, setpaymenttype] = useState();\n\n\n    const getAllres = () => {\n        const config = {\n          headers: {\n            \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        }\n        const customerId = Number(localStorage.getItem(\"currentCustomerId\"));\n      \n        axios.get(`http://localhost:8080/api/invoice/list/${customerId}`, config).then((response) => {\n          setinvoices([])\n          var list = []\n          for (var obj in response.data) {\n            // reservations.push(response.data[obj])\n            list.push(response.data[obj])\n          }\n          console.log(\"here\")\n          setinvoices(list)\n      }).catch((e) => {\n        console.log(e);\n      })\n    }\n    useEffect(() => {\n        getAllres();\n    }, [])\n\n\n    const dopay = async (event) => {\n        \n    }\n\n    \n    return(\n        <div className='Payment'>\n            <header>\n            <h1>Payment</h1>\n            </header>\n\n\n            <ul>\n            {invoices.map((invoice) => {\n\n\n                // const getpayments = () =>{\n                //     const config = {\n                //     headers: {\n                //         \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n                //     }\n                //     }\n                //     url = `http://localhost:8080/api/payment/totalPaymentAmount/${invoice.id}`\n                //     axios.get(url, config)\n\n                    \n                //     }\n\n            \n            return (\n            <li key={invoice.id}>\n                rental id: {invoice.id}\n                total amount:{invoice.amount}\n                date:{reservation.date}\n                {/* money paid: {getpayments} */}\n            </li>\n            );\n            })}\n            </ul>\n\n\n            <div>\n                <label>\n                    total amount : {totalamount}\n                </label>\n                <select name=\"method\" id=\"timeperiod\" > \n                <option value=\"cash\">cash</option>\n                <option value=\"creditcard\">credit card</option>\n                <option value=\"debitcard\">debit card</option>\n                <option value=\"paypal\">pay pal</option>\n                onChange={(e) => setpaymenttype(e.target.value)}\n            </select>\n            <div>\n            <button onClick={dopay}>pay</button>\n            </div>\n            </div>\n        </div>\n\n    );\n\n}\nexport default Payment;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}